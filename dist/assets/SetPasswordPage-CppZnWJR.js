import{u as g,l as j,r as a,j as s}from"./index-BonXIjnK.js";import{A as v}from"./aos-qFhLIK5-.js";import{F as c}from"./index.es-BS6_hyzh.js";import{x as N,a as P}from"./index-CokvSRJh.js";import{B as b}from"./Button-GFzUJEy2.js";import{I as m}from"./InputField-C_4ji79N.js";import{p as y}from"./api-CkpjlVvn.js";const B=()=>{const n=g(),{uidb64:p,token:u}=j(),[t,x]=a.useState(""),[o,w]=a.useState(""),[l,r]=a.useState(""),[d,i]=a.useState(!1),f=()=>{n("/admin/login")};a.useEffect(()=>{v.init({duration:800,once:!0})},[]);const h=async()=>{if(r(""),!t||!o)return r("Please fill in both fields.");if(t!==o)return r("Passwords do not match.");i(!0);try{await y(`/auth/password/reset/confirm/${p}/${u}/`,{password:t}),n("/admin/password-reset-success")}catch(e){r(e.message||"Failed to reset password.")}finally{i(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-purple-100 to-white px-4",children:s.jsxs("div",{"data-aos":"fade-up","data-aos-delay":"100",className:"bg-white rounded-xl shadow-lg p-8 max-w-sm w-full text-center relative",children:[s.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:s.jsx(c,{icon:N,size:"md"})}),s.jsx("div",{className:"bg-purple-100 p-3 rounded-full w-12 h-12 mx-auto",children:s.jsx(c,{icon:P,className:"text-purple-600 text-xl"})}),s.jsxs("div",{"data-aos":"slide-down","data-aos-delay":"200",className:"hover:scale-105 hover:text-purple-600 transition",children:[s.jsx("h2",{className:"text-lg font-bold mt-4",children:"Set new Password"}),s.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Enter a strong new password youâ€™ll remember."})]}),s.jsxs("div",{className:"mt-4 space-y-3 hover:scale-105 transition",children:[s.jsx(m,{type:"password",label:"New Password",value:t,onChange:e=>x(e.target.value),placeholder:"Enter new password"}),s.jsx(m,{type:"password",label:"Confirm Password",value:o,onChange:e=>w(e.target.value),placeholder:"Confirm new password"})]}),l&&s.jsx("p",{className:"text-red-500 text-sm mt-2",children:l}),s.jsx("div",{className:"w-auto hover:scale-105 transition",children:s.jsx(b,{text:d?"Updating...":"Update Password",fullWidth:!0,className:"mt-4",onClick:h,disabled:d})})]})})};export{B as default};
