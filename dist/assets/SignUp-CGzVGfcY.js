import{r,u as b,j as e}from"./index-BonXIjnK.js";import{A as k}from"./aos-qFhLIK5-.js";import{F as f}from"./index.es-BS6_hyzh.js";import{f as C,a as I}from"./index-CydJ4g7Y.js";import{f as S,a as g}from"./index-CokvSRJh.js";import{I as m}from"./InputField-C_4ji79N.js";import{B as _}from"./Button-GFzUJEy2.js";import{p as h}from"./api-CkpjlVvn.js";const T=()=>{const[i,x]=r.useState(""),[o,w]=r.useState(""),[c,j]=r.useState(""),[p,s]=r.useState(!1),[u,t]=r.useState(""),d=b();r.useEffect(()=>{k.init({duration:800,once:!0});const a=document.createElement("script");a.src="https://accounts.google.com/gsi/client",a.async=!0,a.defer=!0,document.body.appendChild(a)},[]);const y=async a=>{if(a.preventDefault(),s(!0),t(""),!i.includes("@")){t("Please enter a valid email address."),s(!1);return}if(o.length<6){t("Password must be at least 6 characters long."),s(!1);return}if(o!==c){t("Passwords do not match."),s(!1);return}try{console.log({email:i,password1:o,password2:c}),await h("/auth/register/",{email:i,password1:o,password2:c}),s(!1),d("/verify-email")}catch(l){t(l.message),s(!1)}},v=()=>{window.google.accounts.oauth2.initTokenClient({client_id:"YOUR_GOOGLE_CLIENT_ID",scope:"email profile openid",callback:async l=>{if(l.access_token)try{const n=await h("/auth/google/",{token:l.access_token});localStorage.setItem("milkha_token",n.token),d("/profile-setup")}catch(n){t(n.message)}}}).requestAccessToken()},N=()=>{const n="https://appleid.apple.com/auth/authorize?response_type=code&client_id=YOUR_APPLE_CLIENT_ID&redirect_uri=https://yourfrontend.com/apple-callback&scope=name%20email&response_mode=form_post";window.location.href=n};return e.jsx("div",{className:"max-h-screen flex max-w-full items-center justify-center bg-white p-4 transform scale-[0.95] origin-center overflow-hidden",children:e.jsxs("div",{className:"transform scale-[0.8] origin-center bg-white shadow-lg rounded-2xl flex w-full max-w-6xl px-3 py-3",children:[e.jsxs("div",{"data-aos":"flip-right","data-aos-delay":"100","data-aos-offset":"150","data-aos-duration":"1000","data-aos-easing":"ease-in-out",className:"transform scale-[0.85] origin-center w-full md:w-1/2 flex flex-col justify-center px-10",children:[e.jsx("div",{"data-aos":"fade-down","data-aos-delay":"200",className:"flex justify-center mb-6",children:e.jsx("img",{src:"/images/logo3.png",className:"w-45 h-25 cursor-pointer justify-center hover:scale-110 transition",alt:"Logo",onClick:()=>d("/sign-up")})}),e.jsx("h2",{className:"text-3xl font-semibold text-center",children:"A meaningful connection is just a click away"}),e.jsxs("p",{className:"text-gray-800 text-lg text-center mt-2",children:["By signing up, I agree to Milkhaâ€™s"," ",e.jsx("span",{className:"text-purple-600 hover:scale-105 transition cursor-pointer",children:"Terms"})," and"," ",e.jsx("span",{className:"text-purple-600 hover:scale-105 transition cursor-pointer",children:"Privacy Policy"})]}),e.jsxs("div",{"data-aos":"slide-right","data-aos-delay":"200",className:"mt-6",children:[e.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center border border-gray-400 rounded-lg py-2 mb-3 hover:scale-120 transition-transform",children:[e.jsx(f,{icon:C,className:"mr-2"}),"Sign up with Apple"]}),e.jsxs("button",{onClick:v,className:"w-full flex items-center justify-center border border-gray-400 rounded-lg py-2 hover:scale-120 transition-transform",children:[e.jsx(f,{icon:I,className:"mr-2 text-red-500"}),"Sign up with Google"]})]}),e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("hr",{className:"flex-grow border-gray-400"}),e.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:"OR SIGN UP WITH YOUR EMAIL"}),e.jsx("hr",{className:"flex-grow border-gray-400"})]}),e.jsxs("div",{className:"hover:scale-105 transition",children:[e.jsx(m,{type:"email",placeholder:"hello@gmail.com",icon:S,label:"Email Address",value:i,onChange:a=>x(a.target.value)}),e.jsx(m,{type:"password",placeholder:"********",icon:g,label:"Create a Password",value:o,onChange:a=>w(a.target.value)}),e.jsx(m,{type:"password",placeholder:"********",icon:g,label:"Confirm Password",value:c,onChange:a=>j(a.target.value)}),e.jsx(_,{text:p?"Creating account...":"Sign Up",fullWidth:!0,onClick:y,disabled:p,className:"hover:scale-105 transition"}),u&&e.jsx("p",{className:"text-red-600 text-center text-lg mt-2",children:u})]}),e.jsxs("p",{className:"text-center text-lg text-gray-600 mt-4 hover:scale-105 transition",children:["Already have an account?"," ",e.jsx("span",{className:"text-purple-600 font-semibold hover:scale-105 transition cursor-pointer",onClick:()=>d("/Login"),children:"Login"})]})]}),e.jsx("div",{"data-aos":"flip-left","data-aos-delay":"200",className:"hidden md:block w-1/2 relative",children:e.jsx("img",{src:"/images/vec.png",alt:"Sign Up",className:"w-full max-h-full hover:scale-105 transition text-center justify-center object-auto"})})]})})};export{T as default};
