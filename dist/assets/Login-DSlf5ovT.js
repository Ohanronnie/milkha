import{r as s,u as v,j as e}from"./index-BonXIjnK.js";import{A as k}from"./aos-qFhLIK5-.js";import{F as f}from"./index.es-BS6_hyzh.js";import{f as I,a as L}from"./index-CydJ4g7Y.js";import{f as _,a as E}from"./index-CokvSRJh.js";import{I as u}from"./InputField-C_4ji79N.js";import{B as C}from"./Button-GFzUJEy2.js";import S from"./ForgotPasswordModal-DlkVHlan.js";import{a as A}from"./api-CkpjlVvn.js";import"./ResetLinkSentModal-CZpaIDX3.js";const W=()=>{const[n,x]=s.useState(""),[c,h]=s.useState(""),[d,j]=s.useState(!1),[m,r]=s.useState(!1),[p,a]=s.useState(""),[y,g]=s.useState(!1),l=v();s.useEffect(()=>{k.init({duration:800,once:!0});const t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,document.body.appendChild(t)},[]);const w=async()=>{if(r(!0),a(""),!n.includes("@")){a("Please enter a valid email address."),r(!1);return}if(c.length<6){a("Password must be at least 6 characters long."),r(!1);return}try{const t=await A(n,c);if(t)localStorage.setItem("access_token",t.access_token),localStorage.setItem("refresh_token",t.refresh_token),console.log("User Logged in!"),l("/profile-setup");else throw new Error("Error while logging in")}catch(t){a(t.message)}finally{r(!1)}},b=async()=>{try{window.google.accounts.oauth2.initTokenClient({client_id:"YOUR_GOOGLE_CLIENT_ID",scope:"email profile openid",callback:async i=>{if(i.access_token)try{const o=await post("/auth/google/",{token:i.access_token});localStorage.setItem("milkha_token",o.token),l("/dashboard")}catch(o){a(o.message)}}}).requestAccessToken()}catch{a("Google login failed. Please try again.")}},N=()=>{const o="https://appleid.apple.com/auth/authorize?response_type=code&client_id=YOUR_APPLE_CLIENT_ID&redirect_uri=https://yourfrontend.com/apple-callback&scope=name%20email&response_mode=form_post";window.location.href=o};return e.jsxs("div",{children:[e.jsx("div",{className:"max-h-screen w-full flex items-center justify-center bg-white p-4 transform scale-[0.95] origin-center overflow-hidden",children:e.jsxs("div",{className:"transform scale-[0.8] origin-center bg-white shadow-lg rounded-2xl flex w-full max-w-6xl  px-3 py-3",children:[e.jsxs("div",{"data-aos":"flip-right","data-aos-delay":"100","data-aos-offset":"150","data-aos-duration":"1000","data-aos-easing":"ease-in-out",className:"max-w-full scale-[0.85] md:w-1/2 flex flex-col justify-center px-8 py-8",children:[e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx("img",{src:"/images/logo3.png",className:"w-45 h-25 cursor-pointer justify-center hover:scale-110 transition",alt:"Logo",onClick:()=>l("/profile-setup")})}),e.jsx("h2",{className:"text-3x1 font-semibold text-center",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-800 text-lg text-center mt-2",children:"A meaningful connection is just a click away"}),e.jsxs("div",{"data-aos":"slide-right","data-aos-delay":"200",className:"mt-6",children:[e.jsxs("button",{onClick:N,className:"w-full flex items-center justify-center border border-gray-400 rounded-lg py-2 mb-3 hover:scale-120 transition-transform",children:[e.jsx(f,{icon:I,className:"mr-2"}),"Sign up with Apple"]}),e.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center border border-gray-400 rounded-lg py-2 hover:scale-120 transition-transform",children:[e.jsx(f,{icon:L,className:"mr-2 text-red-500"}),"Sign up with Google"]})]}),e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("hr",{className:"flex-grow border-gray-400"}),e.jsx("span",{className:"mx-3 text-gray-600 text-sm",children:"OR LOG IN WITH YOUR EMAIL"}),e.jsx("hr",{className:"flex-grow border-gray-400"})]}),e.jsxs("form",{children:[e.jsx(u,{type:"email",placeholder:"hello@gmail.com",icon:_,label:"Email Address",value:n,onChange:t=>x(t.target.value)}),e.jsx(u,{type:"password",placeholder:"********",icon:E,label:"Input Password",value:c,onChange:t=>h(t.target.value)}),e.jsxs("div",{className:"flex justify-between items-center mt-3",children:[e.jsxs("label",{className:"flex items-center text-gray-700 text-lg",children:[e.jsx("input",{type:"checkbox",checked:d,onChange:()=>j(!d),className:"mr-2"}),"Remember me"]}),e.jsx("span",{className:"text-purple-600 text-lg cursor-pointer hover:scale-105 transition-transform",onClick:()=>g(!0),children:"Forgot Password"})]}),e.jsx(C,{type:"button",text:m?"Logging in...":"Login",fullWidth:!0,onClick:w,disabled:m,className:"hover:border-purple-600 hover:scale-100 transition-transform"}),p&&e.jsx("p",{className:"text-red-600 text-center text-md mt-2",children:p})]}),e.jsxs("p",{className:"text-center text-lg text-gray-800 mt-4",children:["Donâ€™t have an account?"," ",e.jsx("span",{className:"text-purple-600 font-semibold hover:scale-105 transition cursor-pointer",onClick:()=>l("/SignUp"),children:"SignUp"})]})]}),e.jsx("div",{"data-aos":"flip-left","data-aos-delay":"200",className:"hidden md:block w-1/2 relative",children:e.jsx("img",{src:"/images/vec.png",alt:"Login",className:"w-full max-h-full hover:scale-105 transition text-center justify-center object-auto"})})]})}),e.jsx(S,{isOpen:y,onClose:()=>g(!1)})]})};export{W as default};
