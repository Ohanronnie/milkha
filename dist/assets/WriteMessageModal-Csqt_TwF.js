import{r as i,j as e}from"./index-BonXIjnK.js";import{F as p}from"./index.es-BS6_hyzh.js";import{G as f}from"./index-CokvSRJh.js";const w=({isOpen:d,onClose:b,likedName:r,profileImage:c,receiverId:m,onSend:x})=>{const[a,t]=i.useState(""),[l,o]=i.useState(!1),n=200,g=["Assalam alaikum! How are you doing today?","Your travel photos are amazing! Which camera do you use?","What's your favorite thing about photography?"],u=async()=>{if(!a.trim()){alert("Please write a message before sending.");return}o(!0);try{await x(m,a),t("")}catch(s){console.error("Send Message Error:",s),alert("Failed to send message. Please try again.")}finally{o(!1)}};return d?e.jsx("div",{className:"fixed inset-0 bg-opacity-40 z-50 flex items-center justify-center px-4 bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 w-full max-w-lg animate-fade-in-down relative",children:[e.jsx("div",{className:"absolute -top-0 left-4",children:e.jsx("img",{src:c||"/images/avatar-placeholder.png",alt:"Profile",className:"w-12 h-12 rounded-full border-2 border-white shadow-md"})}),e.jsxs("div",{className:"mt-8",children:[e.jsxs("h3",{className:"text-lg font-bold",children:["You liked ",r,"'s Profile! Break the Ice!"]}),e.jsx("textarea",{placeholder:`Hey ${r}...`,value:a,onChange:s=>t(s.target.value),maxLength:n,rows:4,className:"w-full mt-4 border border-gray-300 rounded-lg p-3 text-sm outline-none resize-none"}),e.jsxs("p",{className:"text-right text-xs text-gray-400",children:[a.length,"/",n]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center text-purple-600 font-semibold text-sm mb-2",children:[e.jsx(p,{icon:f,className:"mr-2"}),"Suggested conversation starters"]}),e.jsx("div",{className:"flex flex-wrap gap-2 text-sm",children:g.map((s,h)=>e.jsx("button",{onClick:()=>t(s),className:"bg-gray-100 hover:bg-purple-100 text-gray-700 px-3 py-1 rounded-full",children:s},h))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:u,disabled:l,className:"bg-purple-600 hover:bg-purple-700 text-white px-5 py-2 rounded-md text-sm disabled:opacity-50",children:l?"Sending...":"Send a Message"})})]})]})}):null};export{w as W};
