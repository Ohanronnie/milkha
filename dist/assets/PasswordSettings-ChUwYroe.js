import{r as t,j as s}from"./index-BonXIjnK.js";import{F as c}from"./index.es-BS6_hyzh.js";import{a as g,c as h,X as b}from"./index-CokvSRJh.js";import{y as o}from"./index-BPRxkVGZ.js";import{I as y}from"./api-CkpjlVvn.js";const C=()=>{const[n,i]=t.useState(""),[a,u]=t.useState(""),[l,p]=t.useState(""),[d,m]=t.useState(!1),f=async e=>{var x,w;if(e.preventDefault(),!n||!a||!l){o.error("Please fill in all fields.");return}if(a!==l){o.error("New passwords do not match.");return}try{m(!0);const r=await y({old_password:n,new_password:a});o.success("Password updated successfully."),i(""),u(""),p("")}catch(r){o.error(((w=(x=r==null?void 0:r.response)==null?void 0:x.data)==null?void 0:w.detail)||"Failed to update password.")}finally{m(!1)}};return s.jsxs("div",{className:"p-6 max-w-xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Password Settings"}),s.jsxs("form",{onSubmit:f,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:[s.jsx(c,{icon:g,className:"mr-2"}),"Current Password"]}),s.jsx("input",{type:"password",value:n,onChange:e=>i(e.target.value),placeholder:"Enter current password",className:"w-full border px-4 py-2 rounded-md text-sm focus:outline-none focus:ring focus:ring-purple-200"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:[s.jsx(c,{icon:h,className:"mr-2"}),"New Password"]}),s.jsx("input",{type:"password",value:a,onChange:e=>u(e.target.value),placeholder:"Enter new password",className:"w-full border px-4 py-2 rounded-md text-sm focus:outline-none focus:ring focus:ring-purple-200"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold mb-1 text-gray-700",children:[s.jsx(c,{icon:b,className:"mr-2"}),"Confirm Password"]}),s.jsx("input",{type:"password",value:l,onChange:e=>p(e.target.value),placeholder:"Re-enter new password",className:"w-full border px-4 py-2 rounded-md text-sm focus:outline-none focus:ring focus:ring-purple-200"})]}),s.jsx("button",{type:"submit",disabled:d,className:`mt-4 bg-purple-600 text-white px-6 py-2 rounded-md text-sm ${d?"opacity-50 cursor-not-allowed":"hover:bg-purple-700"}`,children:d?"Updating...":"Update Password"})]})]})};export{C as default};
