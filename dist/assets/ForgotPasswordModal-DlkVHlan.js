import{r as a,j as e}from"./index-BonXIjnK.js";import{A as h}from"./aos-qFhLIK5-.js";import{F as m}from"./index.es-BS6_hyzh.js";import{b as g,c as j}from"./index-CokvSRJh.js";import{I as w}from"./InputField-C_4ji79N.js";import{B as y}from"./Button-GFzUJEy2.js";import v from"./ResetLinkSentModal-CZpaIDX3.js";import{p as b}from"./api-CkpjlVvn.js";const A=({isOpen:c,onClose:l})=>{const[t,u]=a.useState(""),[i,r]=a.useState(""),[n,d]=a.useState(!1),[o,x]=a.useState(!1);if(a.useEffect(()=>{h.init({duration:800,once:!0})},[]),!c)return null;const f=s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s),p=async()=>{if(r(""),!f(t)){r("Please enter a valid email address.");return}d(!0);try{await b("/auth/password/reset/",{email:t}),x(!0)}catch(s){r(s.message||"Failed to send reset link. Try again.")}finally{d(!1)}};return e.jsxs(e.Fragment,{children:[!o&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{"data-aos":"fade-up","data-aos-delay":"100","data-aos-offset":"150","data-aos-duration":"1000","data-aos-easing":"ease-in-out",className:"bg-white p-6 rounded-2xl shadow-lg max-w-md w-full relative",children:[e.jsx("button",{onClick:l,className:"absolute hover:scale-105 transition top-4 right-4 text-gray-500 hover:text-red-700",children:e.jsx(m,{icon:g,size:"lg"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{"data-aos":"fade-down","data-aos-delay":"200",className:"bg-purple-100 p-3 rounded-full w-12 h-12 mx-auto",children:e.jsx(m,{icon:j,className:"text-purple-500 text-xl"})}),e.jsxs("div",{"data-aos":"slide-right","data-aos-delay":"200",children:[e.jsx("h2",{className:"text-xl font-semibold hover:scale-105 transition mt-3",children:"Forgot password?"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"No worries, weâ€™ll send you reset instructions."})]}),e.jsx("div",{className:"mt-4",children:e.jsx(w,{type:"email",placeholder:"Enter your email",label:"Email",value:t,onChange:s=>u(s.target.value)})}),i&&e.jsx("p",{className:"text-red-500 text-sm mt-2",children:i}),e.jsx(y,{text:n?"Sending...":"Reset Password",fullWidth:!0,onClick:p,disabled:n})]})]})}),o&&e.jsx(v,{isOpen:o,onClose:l,email:t})]})};export{A as default};
