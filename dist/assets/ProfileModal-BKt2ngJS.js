import{r as t,j as e}from"./index-BonXIjnK.js";import{A as z}from"./aos-qFhLIK5-.js";import{F as r}from"./index.es-BS6_hyzh.js";import{b as D,r as I,n as M,v as i,w as n}from"./index-CokvSRJh.js";import{y as l}from"./index-BPRxkVGZ.js";import{f as P,s as B,m as H}from"./api-CkpjlVvn.js";const X=({isOpen:c,onClose:w,profile:a,onLike:u})=>{var v;const[s,h]=t.useState(null),[k,f]=t.useState(!1),[b,g]=t.useState(!1),[j,y]=t.useState(!1),[d,F]=t.useState(!0),[x,S]=t.useState(!0),[m,L]=t.useState(!0),[p,C]=t.useState(!0);t.useEffect(()=>{z.init({duration:800,once:!0})},[]),t.useEffect(()=>{(async()=>{if(!(!(a!=null&&a.id)||!c))try{f(!0);const o=await P();h(o)}catch{l.error("Failed to load full profile."),h(a)}finally{f(!1)}})()},[a,c]);const E=async()=>{try{g(!0),await B(s.id),l.success(`You liked ${s.name}`),u&&u(s)}catch{l.error("Failed to like profile.")}finally{g(!1)}},A=async()=>{try{y(!0),await H(s.id),l.success(`${s.name} shortlisted`)}catch{l.error("Failed to shortlist profile.")}finally{y(!1)}};return!c||!a?null:k||!s?e.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm z-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center text-gray-700 text-sm",children:"Loading Profile..."})}):e.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-end bg-black/30 backdrop-blur-sm",children:e.jsxs("div",{"data-aos":"slide-left",className:"w-full sm:max-w-xl bg-[#F9F9FC] rounded-l-3xl h-full overflow-y-auto animate-slide-in-right shadow-2xl relative",children:[e.jsx("button",{onClick:w,className:"absolute top-4 right-4 text-gray-500 hover:text-red-500 transition",children:e.jsx(r,{icon:D,size:"lg"})}),e.jsxs("div",{className:"p-6 pb-10",children:[e.jsxs("div",{className:"relative w-fit mx-auto mb-6",children:[e.jsx("div",{className:"absolute top-[-6px] left-[8px] w-full h-full bg-gray-200 rounded-3xl rotate-1 scale-[0.98] z-0"}),e.jsx("img",{src:s.image||"/images/avatar-placeholder.png",alt:s.name,className:"relative z-10 w-64 rounded-3xl shadow-xl object-cover transition-transform duration-500 hover:scale-105"}),e.jsxs("span",{className:"absolute top-2 right-2 bg-purple-100 text-purple-700 text-xs px-3 py-1 rounded-full font-semibold flex items-center gap-1 shadow-sm",children:[e.jsx(r,{icon:I,className:"text-[10px]"}),s.compatibility||"N/A"," COMPATIBLE"]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6 px-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium mt-1",children:[s.age," YRS ",e.jsx("span",{className:"mx-1",children:"|"})," ",s.location]})]}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs("button",{onClick:E,disabled:b,className:"bg-pink-50 hover:bg-white text-pink-600 px-5 py-2 rounded-full font-medium text-sm border border-pink-200 transition flex items-center gap-2",children:[e.jsx(r,{icon:M}),b?"Liking...":"Like"]}),e.jsxs("button",{onClick:A,disabled:j,className:"bg-purple-50 hover:bg-white text-purple-600 px-5 py-2 rounded-full font-medium text-sm border border-purple-200 transition flex items-center gap-2",children:["⭐ ",j?"Shortlisting...":"Shortlist"]})]})]}),e.jsxs("div",{className:"space-y-4 text-sm text-gray-800",children:[e.jsxs("div",{className:"bg-[#F1EDFF] rounded-xl p-4 shadow-md border border-gray-100 hover:scale-103 transition",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold text-gray-500 uppercase mb-2 cursor-pointer",onClick:()=>F(!d),children:[e.jsxs("span",{children:["About ",(v=s.name)==null?void 0:v.split(" ")[0]]}),e.jsx(r,{icon:d?i:n})]}),d&&e.jsx("p",{className:"text-gray-700",children:s.bio||"No bio provided."})]}),Array.isArray(s.hobbies)&&e.jsxs("div",{className:"bg-[#F1EDFF] rounded-xl p-4 shadow-md border border-gray-100 hover:scale-103 transition",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold text-gray-500 uppercase mb-2 cursor-pointer",onClick:()=>S(!x),children:[e.jsx("span",{children:"Hobbies"}),e.jsx(r,{icon:x?i:n})]}),x&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.hobbies.map((N,o)=>e.jsxs("span",{className:"text-xs px-3 py-1 rounded-full font-medium flex items-center gap-1 bg-purple-100 text-purple-700 hover:bg-purple-200",children:["⚡ ",N]},o))})]}),e.jsxs("div",{className:"bg-[#F1EDFF] rounded-xl p-4 shadow-md border border-gray-100 hover:scale-103 transition",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold text-gray-500 uppercase mb-2 cursor-pointer",onClick:()=>L(!m),children:[e.jsx("span",{children:"Personal Information"}),e.jsx(r,{icon:m?i:n})]}),m&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 text-xs text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold uppercase",children:"Religion"}),e.jsx("p",{className:"text-gray-800",children:s.religion||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold uppercase",children:"Marital Status"}),e.jsx("p",{className:"text-gray-800",children:s.maritalStatus||"-"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 font-semibold uppercase",children:"Occupation"}),e.jsx("p",{className:"text-gray-800",children:s.occupation||"-"})]})]})]}),s.looking&&e.jsxs("div",{className:"bg-[#F1EDFF] rounded-xl p-4 shadow-md border border-gray-100 hover:scale-103 transition",children:[e.jsxs("div",{className:"flex justify-between items-center text-xs font-semibold text-gray-500 uppercase mb-2 cursor-pointer",onClick:()=>C(!p),children:[e.jsx("span",{children:"Looking For…"}),e.jsx(r,{icon:p?i:n})]}),p&&e.jsx("p",{className:"text-gray-700",children:s.looking})]})]})]})]})})};export{X as default};
